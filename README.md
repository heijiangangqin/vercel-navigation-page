# 导航页面

一个简洁美观的HTML首页，适合设置为浏览器默认首页，支持部署到 Vercel。

---

## ☁️ 云端功能（Vercel 部署 & Redis 云存储）

- 支持一键部署到 [Vercel](https://vercel.com/)，实现云端访问和数据同步
- 所有数据（卡片、待办、记事本、设置等）自动存储在 Upstash Redis 云数据库
- 支持断网 fallback：云端不可用时自动切换本地存储，数据不丢失
- 登录保护：首次访问需输入验证码（2550931665），登录后 15 天内免验证，持续使用自动延期

### 🚀 云端部署与使用

1. **Fork 或下载本项目**
2. **导入到 Vercel**（可直接用 Vercel 的 Import Project 功能）
3. **在 Upstash 创建 Redis 实例**
   - 访问 [Upstash](https://upstash.com/)，注册并创建 Redis 数据库
   - 复制 REST API URL 和 TOKEN
4. **在 Vercel 项目设置环境变量**
   - `UPSTASH_REDIS_REST_URL`：Upstash 控制台的 REST URL
   - `UPSTASH_REDIS_REST_TOKEN`：Upstash 控制台的 REST TOKEN
5. **重新部署 Vercel 项目**
6. **首次访问页面时输入验证码 `2550931665` 登录**

> 云端数据自动同步，支持多端访问。断网时自动 fallback 到本地存储。

---

## ✨ 功能特性

- ⏰ **时间显示** - 动态显示当前时间
- 🌤️ **天气信息** - 支持配置城市和API密钥
- 📝 **记事本** - 自动保存内容到本地存储/云端
- ✅ **待办事项管理** - 支持添加、完成、删除待办
- 🔗 **应用卡片管理** - 自定义常用网站快捷方式
- 🔍 **搜索功能** - 默认百度搜索，支持回车快速搜索
- 🎨 **响应式设计** - 适配各种屏幕尺寸
- 💾 **数据云端存储** - 所有数据自动同步到 Upstash Redis
- 🖱️ **拖拽排序** - 支持卡片和小部件拖拽重新排序
- 🔑 **验证码登录** - 首次访问需输入验证码，保障数据安全

## 🚀 快速开始

### 1. 下载项目
下载项目文件到本地目录

### 2. 打开首页
在浏览器中直接打开 `index.html` 文件即可使用

### 3. 设置为默认首页
将 `index.html` 设置为浏览器的默认首页

### 4. 云端部署（可选）
参考上方“云端部署与使用”步骤，将首页部署到 Vercel，实现多端同步和云端存储。

## 📋 详细功能说明

### 🔍 搜索功能
- 默认使用百度搜索
- 在搜索栏输入关键词后按回车键
- 将在新标签页中打开搜索结果

### 🌤️ 天气功能
#### 获取高德地图API密钥
1. 访问 [高德开放平台](https://lbs.amap.com/)
2. 注册账号并创建应用
3. 获取API密钥（Key）

#### 获取城市代码
1. 在高德开放平台控制台进入"城市编码"页面（https://lbs.amap.com/api/webservice/download）
2. 搜索您所在的城市
3. 复制对应的城市代码（如：445281 代表普宁市）

#### 配置天气
1. 点击 ⚙️ 按钮里面配置天气
2. 在弹出的配置窗口中填写：
   - **高德地图API密钥**：您申请的API密钥
   - **城市代码**：您所在城市的代码
   - **城市名称**：用于显示的城市名称
3. 点击"保存"按钮
4. 天气信息将自动更新

**示例配置：**
- API密钥：`e17e123123123123123`
- 城市代码：`445281`
- 城市名称：`普宁市`

### 📝 记事本功能
- 直接在记事本小部件中输入内容
- 内容会自动保存到本地存储/云端
- 刷新页面后内容依然保留

### ✅ 待办事项功能
- 直接输入添加待办事项（无需弹窗）
- 支持回车键快速添加
- 勾选完成状态
- 点击优先级标签切换优先级（低→中→高）
- 一键删除待办
- 显示完成进度和统计信息
- 按优先级和完成状态排序
- 数据自动保存到本地存储/云端，刷新页面后不会丢失

### 🔗 应用卡片管理
- 添加常用网站的快捷方式
- 自动加载网站图标
- 支持自定义图标URL
- 图标加载失败时显示默认图标
- 编辑模式：点击✏️按钮进入编辑模式，编辑图标和拖拽手柄始终显示，点击或长按卡片进行拖拽排序
- **所有卡片数据自动保存到本地存储/云端，刷新页面后不会丢失**

## 🎨 界面布局

### 页面结构
- **顶部**：搜索栏
- **中部**：应用卡片区域（支持拖拽排序）
- **底部**：小部件区域（天气、记事本、待办，支持拖拽排序）

### 响应式设计
- 适配桌面端、平板和手机
- 使用Flexbox和Grid布局
- 毛玻璃效果和渐变背景

### ⚙️ 设置功能
点击"我的应用"区域右上角的⚙️按钮打开设置页面，包含：

- **🌤️ 天气设置**：配置天气API和城市信息
- **📋 小部件管理**：拖拽调整顺序，点击眼睛图标控制显示
- **💾 数据管理**：导出、导入和清空所有数据

## 📁 项目结构

```
homepage/
├── index.html              # 主页面文件
├── styles.css              # 样式文件
├── script.js               # JavaScript逻辑文件
├── data-manager.js         # 数据管理与云端同步逻辑
├── api/redis.js            # Vercel Serverless API (云端 Redis 代理)
├── package.json            # type: module 配置
├── README.md               # 项目说明文档
└── icons/
    ├── favicon.svg         # 浏览器标签页图标（SVG格式）
    ├── favicon.png         # 浏览器标签页图标（PNG格式）
    ├── favicon.ico         # 浏览器标签页图标（ICO格式）
    └── default-icon.svg    # 默认卡片图标
```

## 🛠️ 技术栈

- **HTML5**: 页面结构
- **CSS3**: 样式和动画
  - Flexbox 和 Grid 布局
  - CSS 变量
  - 毛玻璃效果 (backdrop-filter)
  - 渐变背景
- **JavaScript (ES6+)**: 交互逻辑
  - 云端数据同步 (Upstash Redis)
  - DOM 操作
  - 事件处理
  - 模块化设计
- **Vercel Serverless Function**: 云端 API 代理
- **Upstash Redis**: 云端数据存储

## 🌟 特色功能

### 云端同步与断网容错
- 所有数据自动同步到 Upstash Redis
- 云端不可用时自动 fallback 到本地存储，数据不丢失

### 验证码登录保护
- 首次访问需输入验证码（2550931665），登录后 15 天内免验证，持续使用自动延期

### 拖拽排序功能
- 支持拖拽卡片和小部件重新排序
- 直观的拖拽手柄指示器
- 拖拽时的视觉反馈效果
- 自动保存排序结果

**享受您的自定义首页体验！** 🎉 
